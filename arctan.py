import math

iterasi = 20

def find_arctan(x):
    return math.atan(x) 

tabel = [
[0, 45.0, 1.0] ,
[1, 26.56505117707799, 0.5] ,
[2, 14.036243467926479, 0.25] ,
[3, 7.125016348901798, 0.125] ,
[4, 3.576334374997351, 0.0625] ,
[5, 1.7899106082460694, 0.03125] ,
[6, 0.8951737102110744, 0.015625] ,
[7, 0.4476141708605531, 0.0078125] ,
[8, 0.22381050036853808, 0.00390625] ,
[9, 0.1119056770662069, 0.001953125] ,
[10, 0.055952891893803675, 0.0009765625] ,
[11, 0.027976452617003676, 0.00048828125] ,
[12, 0.013988227142265016, 0.000244140625] ,
[13, 0.006994113675352919, 0.0001220703125] ,
[14, 0.003497056850704011, 6.103515625e-05] ,
[15, 0.0017485284269804495, 3.0517578125e-05] ,
[16, 0.0008742642136937803, 1.52587890625e-05] ,
[17, 0.00043713210687233457, 7.62939453125e-06] ,
[18, 0.00021856605343934784, 3.814697265625e-06] ,
[19, 0.00010928302672007149, 1.9073486328125e-06]
]

for i in range(iterasi) :
    x = 1/(2**(i))
    y = math.degrees(find_arctan(x))
    tabel[i] = [i,y,x]

# input
a = 3 # koorinat x
b = 4      # koordinat y

x = a
y = b   

theta = 0
r = 0
for i in range(iterasi):
    if y < 0  :
        new_x = x - y*(1/2**(i))
        new_y = y + x*(1/2**(i))
    
        theta -= tabel[i][1]
    
    else :
        new_x = x + y*(1/2**(i))
        new_y = y - x*(1/2**(i))

        theta += tabel[i][1]

    x = new_x
    y = new_y

print(f'actan cordic = {theta}, nilai asli = {math.degrees(math.atan(b/a))}, x : {x*0.607}')



